<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AiCHECKER — AI vs Human Detector</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;700;900&family=JetBrains+Mono:wght@400;500;700&family=Rajdhani:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --bg:        #050508;
      --bg2:       #0a0a12;
      --bg3:       #0f0f1a;
      --card:      #0d0d18;
      --border:    rgba(123,97,255,0.2);
      --border2:   rgba(123,97,255,0.4);
      --accent:    #7b61ff;
      --accent2:   #a78bfa;
      --neon:      #ff2d55;
      --yellow:    #ffdd00;
      --orange:    #ff7b00;
      --red:       #ff2d55;
      --human-green: #00ff88;
      --text:      #e8e8f0;
      --text-dim:  #8888aa;
      --text-muted:#55556a;
      --grid:      rgba(123,97,255,0.04);
      --r-sm:      6px;
      --r-md:      12px;
      --r-lg:      18px;
      --r-xl:      24px;
      --t:         200ms ease;
      --t-slow:    350ms ease;
    }

    html { scroll-behavior: smooth; }

    body {
      font-family: 'Rajdhani', sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      -webkit-font-smoothing: antialiased;
      overflow-x: hidden;
    }

    /* Grid background */
    body::before {
      content: '';
      position: fixed;
      inset: 0;
      background-image:
        linear-gradient(var(--grid) 1px, transparent 1px),
        linear-gradient(90deg, var(--grid) 1px, transparent 1px);
      background-size: 40px 40px;
      pointer-events: none;
      z-index: 0;
    }

    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after { animation-duration: 0.01ms !important; transition-duration: 0.01ms !important; }
    }

    /* Skip link */
    .skip-link {
      position: absolute; top: -40px; left: 0;
      background: var(--accent); color: #fff;
      padding: 8px 16px; border-radius: 0 0 8px 0;
      font-size: 0.875rem; font-weight: 600; z-index: 9999;
      transition: top var(--t);
    }
    .skip-link:focus { top: 0; }

    /* ── Header ─────────────────────────────────────────── */
    header {
      position: sticky; top: 0; z-index: 100;
      background: rgba(5,5,8,0.92);
      backdrop-filter: blur(16px);
      border-bottom: 1px solid var(--border);
    }
    .header-inner {
      max-width: 1200px; margin: 0 auto; padding: 0 24px;
      display: flex; align-items: center; justify-content: space-between;
      height: 64px; position: relative; z-index: 1;
    }
    .logo {
      display: flex; align-items: center; gap: 10px;
      text-decoration: none;
    }
    .logo-icon {
      width: 36px; height: 36px;
      background: linear-gradient(135deg, var(--accent), #4f46e5);
      border-radius: var(--r-sm);
      display: flex; align-items: center; justify-content: center;
      box-shadow: 0 0 16px rgba(123,97,255,0.5);
    }
    .logo-icon svg { width: 18px; height: 18px; color: #fff; }
    .logo-text {
      font-family: 'Orbitron', sans-serif;
      font-size: 1.2rem; font-weight: 700;
      color: var(--text); letter-spacing: 0.06em;
    }
    .logo-text span { color: var(--accent); }
    .header-right { display: flex; align-items: center; gap: 12px; }
    .live-badge {
      display: flex; align-items: center; gap: 6px;
      background: rgba(0,255,136,0.08);
      border: 1px solid rgba(0,255,136,0.25);
      border-radius: 999px;
      padding: 5px 12px;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.7rem; font-weight: 500;
      color: var(--neon); letter-spacing: 0.08em;
    }
    .live-dot {
      width: 6px; height: 6px; border-radius: 50%;
      background: var(--neon);
      box-shadow: 0 0 6px var(--neon);
      animation: pulse-dot 2s ease-in-out infinite;
    }
    @keyframes pulse-dot {
      0%, 100% { opacity: 1; } 50% { opacity: 0.3; }
    }
    .version-tag {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.7rem; color: var(--text-muted);
      letter-spacing: 0.04em;
    }

    /* ── Hero ──────────────────────────────────────────── */
    .hero {
      position: relative; z-index: 1;
      text-align: center;
      padding: 72px 24px 56px;
      overflow: hidden;
    }
    .hero::after {
      content: '';
      position: absolute;
      top: 0; left: 50%; transform: translateX(-50%);
      width: 600px; height: 300px;
      background: radial-gradient(ellipse at top, rgba(123,97,255,0.12) 0%, transparent 70%);
      pointer-events: none;
    }
    .hero-eyebrow {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.72rem; font-weight: 500;
      color: var(--accent2); letter-spacing: 0.16em;
      text-transform: uppercase; margin-bottom: 20px;
      display: flex; align-items: center; justify-content: center; gap: 10px;
    }
    .hero-eyebrow::before, .hero-eyebrow::after {
      content: ''; display: block;
      width: 32px; height: 1px; background: var(--border2);
    }
    .hero h1 {
      font-family: 'Orbitron', sans-serif;
      font-size: clamp(2.4rem, 6vw, 4.2rem);
      font-weight: 900;
      line-height: 1.08;
      margin-bottom: 20px;
      background: linear-gradient(135deg, #ffffff 0%, var(--accent2) 50%, var(--accent) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .hero p {
      font-size: clamp(1rem, 2vw, 1.15rem);
      color: var(--text-dim);
      font-weight: 400; line-height: 1.7;
      max-width: 520px; margin: 0 auto 40px;
    }
    .hero-stats {
      display: flex; justify-content: center;
      gap: 40px; flex-wrap: wrap;
    }
    .hero-stat { display: flex; flex-direction: column; align-items: center; gap: 4px; }
    .hero-stat-val {
      font-family: 'JetBrains Mono', monospace;
      font-size: 1.6rem; font-weight: 700;
      color: var(--accent);
    }
    .hero-stat-lbl {
      font-size: 0.75rem; font-weight: 600;
      color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.08em;
    }

    /* ── Main container ────────────────────────────────── */
    main {
      max-width: 1100px; margin: 0 auto;
      padding: 0 24px 80px;
      position: relative; z-index: 1;
    }

    /* ── Tab wrapper ───────────────────────────────────── */
    .tabs-wrapper {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--r-xl);
      overflow: hidden;
      margin-bottom: 40px;
      box-shadow: 0 0 40px rgba(123,97,255,0.06);
    }
    .tab-nav {
      display: flex;
      background: rgba(255,255,255,0.02);
      border-bottom: 1px solid var(--border);
    }
    .tab-btn {
      flex: 1; display: flex; align-items: center; justify-content: center; gap: 8px;
      padding: 16px 12px;
      background: transparent; border: none; cursor: pointer;
      font-family: 'Rajdhani', sans-serif;
      font-size: 0.85rem; font-weight: 700;
      color: var(--text-muted);
      letter-spacing: 0.08em; text-transform: uppercase;
      transition: all var(--t);
      border-bottom: 2px solid transparent; margin-bottom: -1px;
    }
    .tab-btn:hover { color: var(--text); background: rgba(123,97,255,0.04); }
    .tab-btn.active { color: var(--accent2); border-bottom-color: var(--accent); background: rgba(123,97,255,0.06); }
    .tab-btn:focus-visible { outline: 2px solid var(--accent); outline-offset: -2px; }
    .tab-btn svg { width: 16px; height: 16px; flex-shrink: 0; }
    .tab-content { display: none; padding: 36px 40px 40px; }
    .tab-content.active { display: block; }

    @media (max-width: 600px) {
      .tab-content { padding: 24px 20px 28px; }
      .tab-btn { font-size: 0.72rem; padding: 13px 8px; gap: 4px; }
      .tab-btn svg { display: none; }
    }

    /* ── Form ─────────────────────────────────────────── */
    .field-group { margin-bottom: 20px; }
    label {
      display: block; font-size: 0.8rem; font-weight: 700;
      color: var(--text-dim); margin-bottom: 8px;
      letter-spacing: 0.08em; text-transform: uppercase;
    }
    .label-hint {
      font-size: 0.75rem; font-weight: 400;
      color: var(--text-muted); text-transform: none;
      letter-spacing: 0; margin-left: 8px;
    }
    input[type="url"], input[type="text"], textarea {
      width: 100%;
      padding: 13px 16px;
      background: rgba(255,255,255,0.03);
      border: 1px solid var(--border);
      border-radius: var(--r-md);
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.9rem; color: var(--text);
      outline: none;
      transition: border-color var(--t), box-shadow var(--t);
    }
    input[type="url"]::placeholder, input[type="text"]::placeholder, textarea::placeholder {
      color: var(--text-muted);
    }
    input[type="url"]:focus, input[type="text"]:focus, textarea:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(123,97,255,0.15);
    }
    textarea { min-height: 220px; resize: vertical; line-height: 1.6; }

    .url-row { display: flex; gap: 10px; align-items: flex-start; }
    .url-row input { flex: 1; }
    @media (max-width: 600px) { .url-row { flex-direction: column; } }

    /* ── Buttons ──────────────────────────────────────── */
    .btn {
      display: inline-flex; align-items: center; justify-content: center; gap: 7px;
      padding: 13px 24px;
      border: none; border-radius: var(--r-md);
      font-family: 'Rajdhani', sans-serif;
      font-size: 0.85rem; font-weight: 700;
      letter-spacing: 0.08em; text-transform: uppercase;
      cursor: pointer;
      transition: all var(--t-slow);
      white-space: nowrap; outline: none;
    }
    .btn:focus-visible { outline: 2px solid var(--accent); outline-offset: 3px; }
    .btn-primary {
      background: linear-gradient(135deg, var(--accent), #4f46e5);
      color: #fff;
      box-shadow: 0 4px 20px rgba(123,97,255,0.4);
      border: 1px solid rgba(123,97,255,0.6);
    }
    .btn-primary:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: 0 6px 28px rgba(123,97,255,0.55);
    }
    .btn-primary:active:not(:disabled) { transform: translateY(0); }
    .btn-primary:disabled { opacity: 0.4; cursor: not-allowed; }
    .btn-ghost {
      background: rgba(255,255,255,0.04);
      color: var(--text-dim);
      border: 1px solid var(--border);
    }
    .btn-ghost:hover { background: rgba(255,255,255,0.07); color: var(--text); }
    .btn svg { width: 15px; height: 15px; }

    .analyze-row { display: flex; align-items: center; gap: 12px; margin-top: 8px; flex-wrap: wrap; }
    .char-count { font-family: 'JetBrains Mono', monospace; font-size: 0.75rem; color: var(--text-muted); }

    /* ── URL info banner ──────────────────────────────── */
    .url-info-banner {
      display: flex; gap: 10px; align-items: flex-start;
      background: rgba(123,97,255,0.06);
      border: 1px solid rgba(123,97,255,0.18);
      border-radius: var(--r-md);
      padding: 12px 14px;
      margin-bottom: 14px;
      font-size: 0.82rem; line-height: 1.55; color: var(--text-dim);
    }
    .url-info-banner svg { flex-shrink: 0; color: var(--accent2); margin-top: 1px; width: 15px; height: 15px; }
    .url-info-text strong { color: var(--text); }
    .url-blocked-hint { display: block; margin-top: 3px; color: var(--text-muted); font-size: 0.78rem; }

    /* ── Error banner ─────────────────────────────────── */
    .url-error-banner {
      display: none; gap: 12px; align-items: flex-start;
      background: rgba(255,45,85,0.07);
      border: 1px solid rgba(255,45,85,0.25);
      border-radius: var(--r-md);
      padding: 14px 16px;
      margin-top: 14px;
      font-size: 0.85rem; line-height: 1.6; color: var(--text);
    }
    .url-error-banner.visible { display: flex; }
    .url-error-banner > svg { flex-shrink: 0; color: var(--red); margin-top: 2px; width: 18px; height: 18px; }
    .url-error-title { font-family: 'Orbitron', sans-serif; font-size: 0.75rem; font-weight: 700; color: var(--red); margin-bottom: 5px; letter-spacing: 0.05em; }
    .url-error-body { color: var(--text-dim); font-size: 0.82rem; }
    .url-error-tip {
      margin-top: 8px; padding: 8px 12px;
      background: rgba(123,97,255,0.08);
      border-left: 2px solid var(--accent);
      border-radius: 0 var(--r-sm) var(--r-sm) 0;
      font-size: 0.8rem; color: var(--text-dim);
    }
    .url-error-tip strong { color: var(--accent2); }

    /* ── File upload ──────────────────────────────────── */
    .upload-zone {
      border: 2px dashed var(--border);
      border-radius: var(--r-lg);
      background: rgba(123,97,255,0.03);
      padding: 48px 32px; text-align: center;
      cursor: pointer; transition: all var(--t);
      position: relative;
    }
    .upload-zone:hover, .upload-zone.drag-over {
      border-color: var(--accent);
      background: rgba(123,97,255,0.07);
    }
    .upload-zone input[type="file"] { position: absolute; inset: 0; opacity: 0; cursor: pointer; }
    .upload-icon {
      width: 52px; height: 52px;
      background: rgba(123,97,255,0.12);
      border: 1px solid var(--border2);
      border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      margin: 0 auto 14px;
    }
    .upload-icon svg { width: 24px; height: 24px; color: var(--accent2); }
    .upload-title { font-family: 'Orbitron', sans-serif; font-size: 0.9rem; font-weight: 600; color: var(--text); margin-bottom: 6px; letter-spacing: 0.04em; }
    .upload-hint { font-size: 0.82rem; color: var(--text-muted); }
    .upload-file-info {
      display: none; margin-top: 14px; padding: 10px 14px;
      background: rgba(0,255,136,0.06);
      border: 1px solid rgba(0,255,136,0.2);
      border-radius: var(--r-sm);
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.8rem; color: var(--neon);
      align-items: center; gap: 8px;
    }
    .upload-file-info.visible { display: flex; }

    /* ── Loading bar ──────────────────────────────────── */
    .loading-bar { display: none; margin-top: 16px; background: rgba(255,255,255,0.05); border-radius: 999px; height: 3px; overflow: hidden; }
    .loading-bar.visible { display: block; }
    .loading-bar-inner {
      height: 100%; width: 0%;
      background: linear-gradient(90deg, var(--accent), var(--neon), var(--accent));
      background-size: 200% 100%;
      border-radius: 999px;
      transition: width 0.4s ease;
      animation: shimmer 1.8s linear infinite;
    }
    @keyframes shimmer { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }

    .status-msg { font-family: 'JetBrains Mono', monospace; font-size: 0.78rem; color: var(--text-muted); margin-top: 10px; min-height: 18px; }
    .status-msg.error { color: var(--red); }
    .status-msg.ok { color: var(--neon); }

    /* ── Results ──────────────────────────────────────── */
    #results { display: none; animation: fadeUp 0.5s ease; }
    #results.visible { display: block; }
    @keyframes fadeUp { from { opacity: 0; transform: translateY(24px); } to { opacity: 1; transform: translateY(0); } }

    .results-grid {
      display: grid; grid-template-columns: 1fr 1fr;
      gap: 24px; align-items: start;
    }
    @media (max-width: 768px) { .results-grid { grid-template-columns: 1fr; } }

    /* ── Score card ───────────────────────────────────── */
    .score-card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--r-xl);
      padding: 36px 28px;
      text-align: center;
      position: relative; overflow: hidden;
    }
    .score-card::before {
      content: '';
      position: absolute; top: 0; left: 0; right: 0; height: 2px;
      background: var(--score-color, var(--accent));
      box-shadow: 0 0 16px var(--score-color, var(--accent));
    }
    .score-card-eyebrow {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.68rem; font-weight: 500;
      color: var(--text-muted); letter-spacing: 0.14em;
      text-transform: uppercase; margin-bottom: 24px;
    }

    /* Ring */
    .ring-container { position: relative; width: 200px; height: 200px; margin: 0 auto 20px; }
    .ring-svg { width: 200px; height: 200px; transform: rotate(-90deg); }
    .ring-track { fill: none; stroke: rgba(255,255,255,0.05); stroke-width: 10; }
    .ring-fill {
      fill: none;
      stroke: var(--score-color, var(--accent));
      stroke-width: 10;
      stroke-linecap: round;
      stroke-dasharray: 565.49;
      stroke-dashoffset: 565.49;
      transition: stroke-dashoffset 1.4s cubic-bezier(0.4,0,0.2,1), stroke var(--t-slow), filter var(--t-slow);
      filter: drop-shadow(0 0 10px var(--score-color, var(--accent)));
    }
    .ring-center { position: absolute; inset: 0; display: flex; flex-direction: column; align-items: center; justify-content: center; }
    .ring-score {
      font-family: 'JetBrains Mono', monospace;
      font-size: 2.8rem; font-weight: 700; line-height: 1;
      color: var(--score-color, var(--text));
      transition: color var(--t-slow);
    }
    .ring-score-sub { font-family: 'JetBrains Mono', monospace; font-size: 0.7rem; color: var(--text-muted); margin-top: 4px; }

    .category-label {
      font-family: 'Orbitron', sans-serif;
      font-size: 1.35rem; font-weight: 700;
      color: var(--score-color, var(--text));
      letter-spacing: 0.06em;
      margin-bottom: 8px;
      text-shadow: 0 0 20px var(--score-color, transparent);
      transition: color var(--t-slow), text-shadow var(--t-slow);
    }
    .category-desc { font-size: 0.85rem; color: var(--text-dim); line-height: 1.6; max-width: 260px; margin: 0 auto 20px; }

    /* Spectrum bar */
    .spectrum-wrap { margin: 4px 0 8px; }
    .spectrum-labels { display: flex; justify-content: space-between; font-family: 'JetBrains Mono', monospace; font-size: 0.65rem; color: var(--text-muted); margin-bottom: 6px; letter-spacing: 0.06em; }
    .spectrum-track {
      position: relative; height: 6px; border-radius: 999px;
      background: linear-gradient(90deg, var(--human), var(--orange), var(--yellow), var(--neon));
    }
    .spectrum-thumb {
      position: absolute; top: 50%; transform: translate(-50%, -50%);
      width: 14px; height: 14px; border-radius: 50%;
      background: #fff; border: 2px solid var(--score-color, var(--accent));
      box-shadow: 0 0 8px var(--score-color, var(--accent));
      transition: left 1.4s cubic-bezier(0.4,0,0.2,1), border-color var(--t-slow), box-shadow var(--t-slow);
      left: 0%;
    }
    .confidence-label { font-family: 'JetBrains Mono', monospace; font-size: 0.72rem; color: var(--text-muted); margin-top: 10px; }

    /* ── Signals card ─────────────────────────────────── */
    .signals-card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--r-xl);
      padding: 28px;
    }
    .signals-header {
      display: flex; align-items: center; gap: 8px;
      margin-bottom: 18px;
    }
    .signals-title {
      font-family: 'Orbitron', sans-serif;
      font-size: 0.8rem; font-weight: 700;
      color: var(--text); letter-spacing: 0.08em;
    }
    .signals-title svg { width: 18px; height: 18px; color: var(--accent); flex-shrink: 0; }
    .triggered-badge {
      margin-left: auto; font-family: 'JetBrains Mono', monospace;
      font-size: 0.7rem; font-weight: 700;
      padding: 3px 10px; border-radius: 999px;
      background: var(--score-color, var(--accent));
      color: var(--bg); letter-spacing: 0.04em;
      display: none;
    }
    .signal-item {
      display: flex; align-items: center; gap: 10px;
      padding: 10px 12px; border-radius: var(--r-sm);
      margin-bottom: 6px;
      background: rgba(255,255,255,0.02);
      border: 1px solid transparent;
      transition: all var(--t);
    }
    .signal-item:last-child { margin-bottom: 0; }
    .signal-item.triggered { background: rgba(123,97,255,0.06); border-color: rgba(123,97,255,0.15); }
    .signal-item.not-triggered { opacity: 0.4; }
    .signal-dot { width: 8px; height: 8px; border-radius: 50%; flex-shrink: 0; background: rgba(255,255,255,0.1); }
    .signal-item.triggered .signal-dot {
      background: var(--score-color, var(--accent));
      box-shadow: 0 0 6px var(--score-color, var(--accent));
    }
    .signal-text { flex: 1; font-size: 0.83rem; font-weight: 500; color: var(--text); }
    .signal-weight {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.75rem; font-weight: 700;
      padding: 2px 8px; border-radius: 4px;
      color: var(--score-color, var(--text-muted));
      background: rgba(123,97,255,0.1);
    }
    .signal-item.not-triggered .signal-weight { color: var(--text-muted); background: transparent; }

    /* ── Summary card ─────────────────────────────────── */
    .summary-card {
      background: rgba(123,97,255,0.04);
      border: 1px solid var(--border);
      border-radius: var(--r-lg);
      padding: 22px 26px; margin-top: 22px;
    }
    .summary-card h3 {
      font-family: 'Orbitron', sans-serif;
      font-size: 0.75rem; font-weight: 700;
      color: var(--text); letter-spacing: 0.08em;
      margin-bottom: 10px; display: flex; align-items: center; gap: 8px;
    }
    .summary-card h3 svg { width: 16px; height: 16px; color: var(--accent); }
    .summary-text { font-size: 0.9rem; color: var(--text-dim); line-height: 1.7; }

    /* ── How it works ─────────────────────────────────── */
    .how-section { padding: 56px 0 0; }
    .section-heading {
      font-family: 'Orbitron', sans-serif;
      font-size: clamp(1.2rem, 2.5vw, 1.7rem);
      font-weight: 700; text-align: center;
      color: var(--text); margin-bottom: 8px; letter-spacing: 0.04em;
    }
    .section-sub { text-align: center; font-size: 0.95rem; color: var(--text-muted); margin-bottom: 32px; }
    .how-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 18px; }
    @media (max-width: 768px) { .how-grid { grid-template-columns: 1fr; } }
    .how-card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--r-lg);
      padding: 26px 22px;
      transition: all var(--t-slow);
    }
    .how-card:hover { border-color: var(--border2); transform: translateY(-3px); box-shadow: 0 8px 32px rgba(123,97,255,0.1); }
    .how-card-icon {
      width: 44px; height: 44px; border-radius: var(--r-sm);
      display: flex; align-items: center; justify-content: center;
      margin-bottom: 14px;
    }
    .how-card-icon.purple { background: rgba(123,97,255,0.15); border: 1px solid rgba(123,97,255,0.25); }
    .how-card-icon.green  { background: rgba(0,255,136,0.1);   border: 1px solid rgba(0,255,136,0.2); }
    .how-card-icon.yellow { background: rgba(255,221,0,0.1);   border: 1px solid rgba(255,221,0,0.2); }
    .how-card-icon svg { width: 22px; height: 22px; }
    .how-card-icon.purple svg { color: var(--accent2); }
    .how-card-icon.green  svg { color: var(--neon); }
    .how-card-icon.yellow svg { color: var(--yellow); }
    .how-card h3 { font-family: 'Orbitron', sans-serif; font-size: 0.8rem; font-weight: 700; color: var(--text); margin-bottom: 8px; letter-spacing: 0.05em; }
    .how-card p  { font-size: 0.875rem; color: var(--text-dim); line-height: 1.65; }

    /* ── Legend ───────────────────────────────────────── */
    .legend-section {
      margin-top: 48px;
      background: var(--card); border: 1px solid var(--border);
      border-radius: var(--r-xl); padding: 30px;
    }
    .legend-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 14px; }
    @media (max-width: 768px) { .legend-grid { grid-template-columns: 1fr 1fr; } }
    @media (max-width: 480px) { .legend-grid { grid-template-columns: 1fr; } }
    .legend-item {
      padding: 18px 14px; border-radius: var(--r-md);
      border: 1px solid; text-align: center;
      transition: transform var(--t);
    }
    .legend-item:hover { transform: translateY(-2px); }
    .legend-item.vibe  { border-color: rgba(255,45,85,0.3);    background: rgba(255,45,85,0.06); }
    .legend-item.sus   { border-color: rgba(255,221,0,0.3);    background: rgba(255,221,0,0.06); }
    .legend-item.mixed { border-color: rgba(255,123,0,0.3);    background: rgba(255,123,0,0.06); }
    .legend-item.human { border-color: rgba(0,255,136,0.3);    background: rgba(0,255,136,0.06); }
    .legend-dot { width: 10px; height: 10px; border-radius: 50%; margin: 0 auto 10px; }
    .legend-item.vibe  .legend-dot { background: var(--red);         box-shadow: 0 0 8px var(--red); }
    .legend-item.sus   .legend-dot { background: var(--yellow);      box-shadow: 0 0 8px var(--yellow); }
    .legend-item.mixed .legend-dot { background: var(--orange);      box-shadow: 0 0 8px var(--orange); }
    .legend-item.human .legend-dot { background: var(--human-green); box-shadow: 0 0 8px var(--human-green); }
    .legend-name { font-family: 'Orbitron', sans-serif; font-size: 0.72rem; font-weight: 700; color: var(--text); margin-bottom: 4px; letter-spacing: 0.06em; }
    .legend-range { font-family: 'JetBrains Mono', monospace; font-size: 0.72rem; color: var(--text-muted); margin-bottom: 4px; }
    .legend-desc { font-size: 0.78rem; color: var(--text-muted); }

    /* ── Divider ──────────────────────────────────────── */
    hr { border: none; border-top: 1px solid var(--border); margin: 48px 0; }

    /* ── Footer ───────────────────────────────────────── */
    footer {
      text-align: center; padding: 36px 24px;
      border-top: 1px solid var(--border);
      background: rgba(255,255,255,0.01);
      position: relative; z-index: 1;
    }
    .footer-inner { max-width: 1100px; margin: 0 auto; display: flex; flex-direction: column; align-items: center; gap: 10px; }
    .footer-logo { font-family: 'Orbitron', sans-serif; font-size: 1rem; font-weight: 700; color: var(--text); }
    .footer-logo span { color: var(--accent); }
    .footer-links { display: flex; gap: 24px; flex-wrap: wrap; justify-content: center; }
    .footer-links a { font-size: 0.8rem; color: var(--text-muted); text-decoration: none; transition: color var(--t); cursor: pointer; font-weight: 600; }
    .footer-links a:hover { color: var(--accent2); }
    .footer-note { font-family: 'JetBrains Mono', monospace; font-size: 0.7rem; color: var(--text-muted); opacity: 0.6; }

    /* ── Free Forever Marquee Banner ─────────────────── */
    .free-banner {
      background: linear-gradient(90deg, rgba(123,97,255,0.08) 0%, rgba(0,255,136,0.04) 50%, rgba(123,97,255,0.08) 100%);
      border-top: 1px solid rgba(123,97,255,0.18);
      border-bottom: 1px solid rgba(123,97,255,0.18);
      padding: 12px 0;
      position: relative; z-index: 1;
      overflow: hidden;
    }
    .free-banner-track {
      display: flex; align-items: center;
      animation: marquee-scroll 28s linear infinite;
      width: max-content;
    }
    .free-banner:hover .free-banner-track { animation-play-state: paused; }
    @keyframes marquee-scroll {
      0%   { transform: translateX(0); }
      100% { transform: translateX(-50%); }
    }
    .free-banner-item {
      display: flex; align-items: center; gap: 7px;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.72rem; font-weight: 500;
      color: var(--text-dim); letter-spacing: 0.06em;
      padding: 2px 28px;
      white-space: nowrap;
    }
    .free-banner-item svg { width: 13px; height: 13px; color: var(--human-green); flex-shrink: 0; }
    .free-banner-sep {
      width: 4px; height: 4px; border-radius: 50%;
      background: var(--border2); flex-shrink: 0;
      margin: 0 8px;
    }

    /* ── GitHub tab specific ──────────────────────────── */
    .gh-input-group { display: flex; gap: 10px; align-items: flex-start; margin-bottom: 16px; }
    .gh-input-group input { flex: 1; }
    .gh-repo-info {
      display: none; margin-bottom: 16px;
      background: rgba(0,255,136,0.05);
      border: 1px solid rgba(0,255,136,0.2);
      border-radius: var(--r-md);
      padding: 16px 18px;
      gap: 16px; align-items: center;
    }
    .gh-repo-info.visible { display: flex; }
    .gh-repo-avatar {
      width: 48px; height: 48px; border-radius: 50%;
      border: 2px solid rgba(0,255,136,0.3);
      flex-shrink: 0;
    }
    .gh-repo-meta { flex: 1; min-width: 0; }
    .gh-repo-name {
      font-family: 'Orbitron', monospace; font-size: 0.85rem; font-weight: 700;
      color: var(--neon); margin-bottom: 4px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
    }
    .gh-repo-desc { font-size: 0.82rem; color: var(--text-dim); line-height: 1.5; }
    .gh-repo-tags { display: flex; gap: 8px; margin-top: 8px; flex-wrap: wrap; }
    .gh-tag {
      font-family: 'JetBrains Mono', monospace; font-size: 0.68rem; font-weight: 500;
      padding: 2px 8px; border-radius: 4px;
      background: rgba(123,97,255,0.12); border: 1px solid var(--border);
      color: var(--accent2);
    }
    .gh-files-list {
      margin-bottom: 16px;
      background: rgba(255,255,255,0.02);
      border: 1px solid var(--border);
      border-radius: var(--r-md);
      overflow: hidden;
    }
    .gh-files-header {
      padding: 10px 14px; font-family: 'JetBrains Mono', monospace;
      font-size: 0.72rem; color: var(--text-muted); letter-spacing: 0.06em;
      border-bottom: 1px solid var(--border);
      background: rgba(255,255,255,0.02);
      display: flex; justify-content: space-between; align-items: center;
    }
    .gh-file-item {
      display: flex; align-items: center; gap: 10px;
      padding: 8px 14px; border-bottom: 1px solid rgba(255,255,255,0.03);
      font-size: 0.82rem;
    }
    .gh-file-item:last-child { border-bottom: none; }
    .gh-file-item svg { width: 14px; height: 14px; color: var(--accent2); flex-shrink: 0; }
    .gh-file-name { flex: 1; color: var(--text-dim); font-family: 'JetBrains Mono', monospace; font-size: 0.78rem; }
    .gh-file-size { color: var(--text-muted); font-family: 'JetBrains Mono', monospace; font-size: 0.7rem; }
    .gh-analyse-notice {
      display: flex; gap: 8px; align-items: flex-start;
      background: rgba(123,97,255,0.06); border: 1px solid rgba(123,97,255,0.18);
      border-radius: var(--r-md); padding: 11px 14px; margin-bottom: 14px;
      font-size: 0.8rem; color: var(--text-dim); line-height: 1.5;
    }
    .gh-analyse-notice svg { width: 14px; height: 14px; color: var(--accent2); flex-shrink: 0; margin-top: 1px; }

    /* ── Smart URL approach notice ────────────────────── */
    .url-approach-notice {
      display: flex; gap: 10px; align-items: flex-start;
      background: rgba(255,221,0,0.05); border: 1px solid rgba(255,221,0,0.18);
      border-radius: var(--r-md); padding: 11px 14px; margin-bottom: 14px;
      font-size: 0.8rem; color: var(--text-dim); line-height: 1.55;
    }
    .url-approach-notice svg { width: 14px; height: 14px; color: var(--yellow); flex-shrink: 0; margin-top: 1px; }

    /* ── Forensic Logic Section ───────────────────────── */
    .forensic-section {
      margin-top: 48px;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--r-xl);
      overflow: hidden;
    }
    .forensic-header {
      padding: 28px 32px 24px;
      border-bottom: 1px solid var(--border);
      background: rgba(123,97,255,0.04);
    }
    .forensic-eyebrow {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.68rem; color: var(--accent2);
      letter-spacing: 0.14em; text-transform: uppercase;
      margin-bottom: 10px;
      display: flex; align-items: center; gap: 8px;
    }
    .forensic-eyebrow::before {
      content: ''; display: inline-block;
      width: 20px; height: 1px; background: var(--accent2);
    }
    .forensic-title {
      font-family: 'Orbitron', sans-serif;
      font-size: clamp(1rem, 2vw, 1.35rem);
      font-weight: 700; color: var(--text);
      letter-spacing: 0.04em; margin-bottom: 14px;
    }
    .forensic-desc {
      font-size: 0.92rem; color: var(--text-dim);
      line-height: 1.75; max-width: 720px;
    }
    .forensic-pillars {
      display: grid; grid-template-columns: repeat(2, 1fr);
      gap: 1px; background: var(--border);
    }
    @media (max-width: 768px) { .forensic-pillars { grid-template-columns: 1fr; } }
    .forensic-pillar {
      background: var(--card);
      padding: 24px 28px;
    }
    .pillar-number {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.65rem; color: var(--accent);
      letter-spacing: 0.1em; text-transform: uppercase;
      margin-bottom: 8px;
    }
    .pillar-title {
      font-family: 'Orbitron', sans-serif;
      font-size: 0.82rem; font-weight: 700;
      color: var(--text); margin-bottom: 8px; letter-spacing: 0.04em;
    }
    .pillar-desc { font-size: 0.83rem; color: var(--text-dim); line-height: 1.6; }
    .pillar-signals {
      margin-top: 10px; display: flex; flex-wrap: wrap; gap: 6px;
    }
    .pillar-tag {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.68rem; padding: 2px 8px;
      border-radius: 4px; border: 1px solid var(--border);
      color: var(--text-muted);
    }
    .pillar-tag.ai   { border-color: rgba(255,45,85,0.3);    color: var(--red);         background: rgba(255,45,85,0.06); }
    .pillar-tag.human{ border-color: rgba(0,255,136,0.3);    color: var(--human-green); background: rgba(0,255,136,0.06); }

    .forensic-footer {
      padding: 24px 32px;
      border-top: 1px solid var(--border);
      display: grid; grid-template-columns: 1fr auto;
      gap: 24px; align-items: center;
    }
    @media (max-width: 600px) { .forensic-footer { grid-template-columns: 1fr; } }
    .forensic-disclaimer {
      font-size: 0.82rem; color: var(--text-muted); line-height: 1.65;
    }
    .forensic-disclaimer strong { color: var(--text-dim); }
    .forensic-formula {
      background: rgba(123,97,255,0.08);
      border: 1px solid var(--border2);
      border-radius: var(--r-md);
      padding: 14px 20px; text-align: center; flex-shrink: 0;
    }
    .forensic-formula-label {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.65rem; color: var(--text-muted);
      letter-spacing: 0.1em; text-transform: uppercase; margin-bottom: 6px;
    }
    .forensic-formula-eq {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.85rem; color: var(--accent2); white-space: nowrap;
    }
    .forensic-privacy {
      display: flex; gap: 20px; margin-top: 12px; flex-wrap: wrap;
    }
    .forensic-privacy-item {
      display: flex; align-items: center; gap: 5px;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.68rem; color: var(--text-muted); letter-spacing: 0.04em;
    }
    .forensic-privacy-item svg { width: 12px; height: 12px; color: var(--human-green); }

    /* ── Roast banner ──────────────────────────────────── */
    .roast-section {
      margin-top: 24px;
      background: linear-gradient(135deg, rgba(255,45,85,0.06) 0%, rgba(123,97,255,0.06) 100%);
      border: 1px solid rgba(255,45,85,0.2);
      border-radius: var(--r-xl);
      padding: 28px 32px;
      display: flex; align-items: center; gap: 24px;
      flex-wrap: wrap;
    }
    .roast-icon {
      font-size: 2.5rem; flex-shrink: 0;
      filter: drop-shadow(0 0 12px rgba(255,45,85,0.4));
    }
    .roast-content { flex: 1; min-width: 200px; }
    .roast-title {
      font-family: 'Orbitron', sans-serif;
      font-size: 1rem; font-weight: 700;
      color: var(--red); letter-spacing: 0.06em;
      margin-bottom: 6px;
    }
    .roast-desc { font-size: 0.88rem; color: var(--text-dim); line-height: 1.6; }
    .roast-example {
      display: block; margin-top: 8px;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.78rem; color: var(--text-muted);
      font-style: italic;
    }
    #roast-output {
      display: none; margin-top: 16px;
      width: 100%;
      background: rgba(255,45,85,0.08);
      border: 1px solid rgba(255,45,85,0.25);
      border-radius: var(--r-md);
      padding: 16px 20px;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.85rem; color: var(--text);
      line-height: 1.7;
    }
    #roast-output.visible { display: block; }

    /* ── Toast ────────────────────────────────────────── */
    #toast {
      position: fixed; bottom: 28px; right: 28px;
      background: var(--bg3); color: var(--text);
      border: 1px solid var(--border2);
      padding: 12px 20px; border-radius: var(--r-md);
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.78rem; font-weight: 500;
      box-shadow: 0 8px 32px rgba(0,0,0,0.5);
      z-index: 9999; opacity: 0; transform: translateY(12px);
      transition: opacity 0.3s ease, transform 0.3s ease;
      pointer-events: none;
    }
    #toast.show { opacity: 1; transform: translateY(0); }

    @media (max-width: 480px) {
      .hero { padding: 48px 16px 36px; }
      main { padding: 0 16px 60px; }
    }
  </style>
</head>
<body>
  <a class="skip-link" href="#main-content">Skip to main content</a>

  <!-- ── Header ──────────────────────────────────────── -->
  <header role="banner">
    <div class="header-inner">
      <a class="logo" href="#" aria-label="AiCHECKER home">
        <div class="logo-icon">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.8" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"/></svg>
        </div>
        <span class="logo-text">Ai<span>CHECKER</span></span>
      </a>
      <div class="header-right">
        <span class="version-tag">v2.0</span>
        <div class="live-badge"><div class="live-dot"></div>AI ANALYSIS ACTIVE</div>
      </div>
    </div>
  </header>

  <!-- ── Hero ────────────────────────────────────────── -->
  <section class="hero" aria-label="Introduction">
    <p class="hero-eyebrow">Code Forensics Tool</p>
    <h1>Detect AI-Written<br>Content Instantly</h1>
    <p>Paste text, upload a file, scan a GitHub repo, or drop any URL. Our 18-signal heuristic engine runs entirely in your browser — no API key, no data upload, zero privacy risk.</p>
    <div class="hero-stats">
      <div class="hero-stat"><span class="hero-stat-val">18+</span><span class="hero-stat-lbl">Signal Checks</span></div>
      <div class="hero-stat"><span class="hero-stat-val">100%</span><span class="hero-stat-lbl">Browser-Side</span></div>
      <div class="hero-stat"><span class="hero-stat-val">0ms</span><span class="hero-stat-lbl">Server Latency</span></div>
      <div class="hero-stat"><span class="hero-stat-val">Free</span><span class="hero-stat-lbl">Always</span></div>
    </div>
  </section>

  <!-- ── Free Forever Marquee ───────────────────────────── -->
  <div class="free-banner" aria-label="Free forever promise">
    <div class="free-banner-track" aria-hidden="true">
      <!-- set 1 -->
      <div class="free-banner-item"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/></svg>FREE FOREVER &amp; ALWAYS</div>
      <div class="free-banner-sep"></div>
      <div class="free-banner-item"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"/></svg>NO LOGIN REQUIRED</div>
      <div class="free-banner-sep"></div>
      <div class="free-banner-item"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"/><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/></svg>ZERO DATA COLLECTED</div>
      <div class="free-banner-sep"></div>
      <div class="free-banner-item"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5"/></svg>OPEN SOURCE ON GITHUB</div>
      <div class="free-banner-sep"></div>
      <div class="free-banner-item"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3"/></svg>100% BROWSER-SIDE ANALYSIS</div>
      <div class="free-banner-sep"></div>
      <div class="free-banner-item"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"/></svg>18+ PATTERN SIGNALS</div>
      <div class="free-banner-sep"></div>
      <!-- set 2 — duplicate for seamless loop -->
      <div class="free-banner-item"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/></svg>FREE FOREVER &amp; ALWAYS</div>
      <div class="free-banner-sep"></div>
      <div class="free-banner-item"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"/></svg>NO LOGIN REQUIRED</div>
      <div class="free-banner-sep"></div>
      <div class="free-banner-item"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"/><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/></svg>ZERO DATA COLLECTED</div>
      <div class="free-banner-sep"></div>
      <div class="free-banner-item"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5"/></svg>OPEN SOURCE ON GITHUB</div>
      <div class="free-banner-sep"></div>
      <div class="free-banner-item"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3"/></svg>100% BROWSER-SIDE ANALYSIS</div>
      <div class="free-banner-sep"></div>
      <div class="free-banner-item"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"/></svg>18+ PATTERN SIGNALS</div>
      <div class="free-banner-sep"></div>
    </div>
  </div>

  <!-- ── Main ─────────────────────────────────────────── -->
  <main id="main-content">

    <!-- Tabs -->
    <div class="tabs-wrapper" role="region" aria-label="Input method">
      <div class="tab-nav" role="tablist">
        <button class="tab-btn active" role="tab" aria-selected="true"  aria-controls="tab-url"    id="btn-url"    onclick="switchTab('url')">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.8" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5a17.92 17.92 0 0 1-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"/></svg>
          URL Scan
        </button>
        <button class="tab-btn" role="tab" aria-selected="false" aria-controls="tab-github" id="btn-github" onclick="switchTab('github')">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="16" height="16"><path d="M12 0C5.374 0 0 5.373 0 12c0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23A11.509 11.509 0 0 1 12 5.803c1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.3 24 12c0-6.627-5.373-12-12-12z"/></svg>
          GitHub Repo
        </button>
        <button class="tab-btn" role="tab" aria-selected="false" aria-controls="tab-paste" id="btn-paste" onclick="switchTab('paste')">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.8" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"/></svg>
          Paste Text
        </button>
        <button class="tab-btn" role="tab" aria-selected="false" aria-controls="tab-upload" id="btn-upload" onclick="switchTab('upload')">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.8" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"/></svg>
          Upload File
        </button>
      </div>

      <!-- Tab: URL -->
      <div class="tab-content active" id="tab-url" role="tabpanel" aria-labelledby="btn-url">
        <div class="url-approach-notice">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.8" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"/></svg>
          <div><strong style="color:var(--yellow)">Smart fetch:</strong> We try 4 different methods to grab the page text. Works on most open articles &amp; blogs. <strong>Big platforms (Google, Twitter/X, Facebook, Instagram)</strong> always block browser fetches — use the <strong>Paste Text</strong> tab for those by copying text from the page manually.</div>
        </div>
        <div class="field-group">
          <label for="url-input">Website URL <span class="label-hint">Paste any article, blog, or docs URL</span></label>
          <div class="url-row">
            <input type="url" id="url-input" placeholder="https://medium.com/some-article-here" autocomplete="url" />
            <button class="btn btn-primary" onclick="fetchURL()" id="fetch-btn" aria-label="Fetch and analyse URL">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"/></svg>
              Scan URL
            </button>
          </div>
        </div>
        <div class="loading-bar" id="url-loader"><div class="loading-bar-inner" id="url-loader-inner"></div></div>
        <p class="status-msg" id="url-status" aria-live="polite"></p>
        <div class="url-error-banner" id="url-error-banner" role="alert">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.8" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"/></svg>
          <div>
            <p class="url-error-title" id="url-error-title">FETCH BLOCKED</p>
            <p class="url-error-body" id="url-error-body"></p>
            <div class="url-error-tip" id="url-error-tip"></div>
          </div>
        </div>
      </div>

      <!-- Tab: GitHub -->
      <div class="tab-content" id="tab-github" role="tabpanel" aria-labelledby="btn-github">
        <div class="gh-analyse-notice">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.8" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M11.25 11.25l.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"/></svg>
          Uses the <strong>public GitHub API</strong> — no proxy, no CORS issues. Fetches README + up to 10 code files and analyses them. Works on any public repo with no API key required.
        </div>
        <div class="field-group">
          <label for="gh-input">GitHub Repository URL <span class="label-hint">Public repos only</span></label>
          <div class="gh-input-group">
            <input type="url" id="gh-input" placeholder="https://github.com/owner/repo-name" autocomplete="off" />
            <button class="btn btn-primary" onclick="fetchGitHub()" id="gh-btn">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="15" height="15"><path d="M12 0C5.374 0 0 5.373 0 12c0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23A11.509 11.509 0 0 1 12 5.803c1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.3 24 12c0-6.627-5.373-12-12-12z"/></svg>
              Scan Repo
            </button>
          </div>
        </div>

        <!-- Repo info card (shown after fetch) -->
        <div class="gh-repo-info" id="gh-repo-info">
          <img class="gh-repo-avatar" id="gh-avatar" src="" alt="Repo owner avatar" />
          <div class="gh-repo-meta">
            <div class="gh-repo-name" id="gh-repo-name"></div>
            <div class="gh-repo-desc" id="gh-repo-desc"></div>
            <div class="gh-repo-tags" id="gh-repo-tags"></div>
          </div>
        </div>

        <!-- Files scanned list -->
        <div class="gh-files-list" id="gh-files-list" style="display:none">
          <div class="gh-files-header">
            <span>FILES SCANNED</span>
            <span id="gh-files-count" style="color:var(--neon)"></span>
          </div>
          <div id="gh-files-items"></div>
        </div>

        <div class="loading-bar" id="gh-loader"><div class="loading-bar-inner" id="gh-loader-inner"></div></div>
        <p class="status-msg" id="gh-status" aria-live="polite"></p>
      </div>

      <!-- Tab: Paste -->
      <div class="tab-content" id="tab-paste" role="tabpanel" aria-labelledby="btn-paste">
        <div class="field-group">
          <label for="paste-input">Paste Text or Code <span class="label-hint">Min 80 characters</span></label>
          <textarea id="paste-input" placeholder="Paste article text, essay, blog post, code snippet, or any content here…" oninput="updateCharCount()" aria-describedby="paste-char-count"></textarea>
        </div>
        <div class="analyze-row">
          <span class="char-count" id="paste-char-count" aria-live="polite">0 chars</span>
          <button class="btn btn-primary" onclick="analysePaste()" aria-label="Analyse pasted text">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"/></svg>
            Analyse
          </button>
          <button class="btn btn-ghost" onclick="clearPaste()">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"/></svg>
            Clear
          </button>
        </div>
        <p class="status-msg" id="paste-status" aria-live="polite"></p>
      </div>

      <!-- Tab: Upload -->
      <div class="tab-content" id="tab-upload" role="tabpanel" aria-labelledby="btn-upload">
        <div class="field-group">
          <label>Upload File <span class="label-hint">.pdf · .txt · .html</span></label>
          <div class="upload-zone" id="upload-zone" ondragover="handleDragOver(event)" ondragleave="handleDragLeave()" ondrop="handleDrop(event)">
            <input type="file" accept=".pdf,.txt,.html,.htm" id="file-input" onchange="handleFileSelect(event)" aria-label="Choose file" />
            <div class="upload-icon">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.8" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"/></svg>
            </div>
            <p class="upload-title">Drop file here</p>
            <p class="upload-hint">or click to browse</p>
          </div>
          <div class="upload-file-info" id="file-info">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.8" stroke="currentColor" width="14" height="14"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"/></svg>
            <span id="file-info-name">No file selected</span>
          </div>
        </div>
        <div class="analyze-row">
          <button class="btn btn-primary" onclick="analyseFile()" id="file-btn" disabled>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"/></svg>
            Analyse File
          </button>
        </div>
        <div class="loading-bar" id="file-loader"><div class="loading-bar-inner" id="file-loader-inner"></div></div>
        <p class="status-msg" id="file-status" aria-live="polite"></p>
      </div>
    </div>

    <!-- Results -->
    <section id="results" aria-label="Analysis results" aria-live="polite">
      <div class="results-grid">
        <div class="score-card" id="score-card">
          <p class="score-card-eyebrow">// AI DETECTION SCORE</p>
          <div class="ring-container" role="img" aria-label="Score ring">
            <svg class="ring-svg" viewBox="0 0 200 200" aria-hidden="true">
              <circle class="ring-track" cx="100" cy="100" r="90"/>
              <circle class="ring-fill" id="ring-fill" cx="100" cy="100" r="90"/>
            </svg>
            <div class="ring-center">
              <span class="ring-score" id="ring-score-num">—</span>
              <span class="ring-score-sub">/ 100</span>
            </div>
          </div>
          <p class="category-label" id="category-label">—</p>
          <p class="category-desc" id="category-desc">Run an analysis to see results.</p>
          <div class="spectrum-wrap">
            <div class="spectrum-labels"><span>HUMAN</span><span>AI</span></div>
            <div class="spectrum-track">
              <div class="spectrum-thumb" id="spectrum-thumb"></div>
            </div>
          </div>
          <p class="confidence-label" id="confidence-label">Awaiting analysis…</p>
        </div>

        <div class="signals-card">
          <div class="signals-header">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.8" stroke="currentColor" width="18" height="18"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"/></svg>
            <h2 class="signals-title">Signal Breakdown</h2>
            <span class="triggered-badge" id="triggered-badge"></span>
          </div>
          <div id="signals-list" role="list"></div>
        </div>
      </div>

      <div class="summary-card" id="summary-card">
        <h3>
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.8" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 0 1 .865-.501 48.172 48.172 0 0 0 3.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"/></svg>
          ANALYSIS SUMMARY
        </h3>
        <p class="summary-text" id="summary-text">—</p>
      </div>
    </section>

    <hr />

    <!-- How it works -->
    <section class="how-section" aria-label="How it works">
      <h2 class="section-heading">How It Works</h2>
      <p class="section-sub">Three input methods. One heuristic engine. Zero data ever leaves your browser.</p>
      <div class="how-grid">
        <div class="how-card">
          <div class="how-card-icon purple">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.8" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 12c0-1.232-.046-2.453-.138-3.662a4.006 4.006 0 0 0-3.7-3.7 48.678 48.678 0 0 0-7.324 0 4.006 4.006 0 0 0-3.7 3.7c-.017.22-.032.441-.046.662M19.5 12l3-3m-3 3-3-3m-12 3c0 1.232.046 2.453.138 3.662a4.006 4.006 0 0 0 3.7 3.7 48.656 48.656 0 0 0 7.324 0 4.006 4.006 0 0 0 3.7-3.7c.017-.22.032-.441.046-.662M4.5 12l3 3m-3-3-3 3"/></svg>
          </div>
          <h3>Text Pattern Analysis</h3>
          <p>Scans for repetitive sentence structures, AI filler phrases, passive voice saturation, and uniform paragraph lengths — hallmarks of LLM output.</p>
        </div>
        <div class="how-card">
          <div class="how-card-icon green">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.8" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5"/></svg>
          </div>
          <h3>Code Signal Detection</h3>
          <p>Flags perfectly uniform indentation, generic variable names, missing TODO comments, and excessive docstring coverage typical of AI-generated code.</p>
        </div>
        <div class="how-card">
          <div class="how-card-icon yellow">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.8" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M7.5 14.25v2.25m3-4.5v4.5m3-6.75v6.75m3-9v9M6 20.25h12A2.25 2.25 0 0 0 20.25 18V6A2.25 2.25 0 0 0 18 3.75H6A2.25 2.25 0 0 0 3.75 6v12A2.25 2.25 0 0 0 6 20.25Z"/></svg>
          </div>
          <h3>Weighted Scoring</h3>
          <p>Each signal is weighted by impact. Final score uses tanh normalisation: <code style="font-family:JetBrains Mono,monospace;font-size:0.8em;color:var(--accent2)">30 + 45 × tanh(raw/30)</code> to keep results honest.</p>
        </div>
      </div>
    </section>

    <!-- Legend -->
    <div class="legend-section">
      <h2 class="section-heading" style="margin-bottom:20px;font-size:1rem">Score Categories</h2>
      <div class="legend-grid">
        <div class="legend-item vibe">
          <div class="legend-dot"></div>
          <p class="legend-name">Vibe Coded</p>
          <p class="legend-range">&gt; 72</p>
          <p class="legend-desc">Strong AI patterns</p>
        </div>
        <div class="legend-item sus">
          <div class="legend-dot"></div>
          <p class="legend-name">Suspicious</p>
          <p class="legend-range">50 – 72</p>
          <p class="legend-desc">Multiple AI signals</p>
        </div>
        <div class="legend-item mixed">
          <div class="legend-dot"></div>
          <p class="legend-name">Mixed Signals</p>
          <p class="legend-range">35 – 50</p>
          <p class="legend-desc">Inconclusive</p>
        </div>
        <div class="legend-item human">
          <div class="legend-dot"></div>
          <p class="legend-name">Certified Human</p>
          <p class="legend-range">&lt; 35</p>
          <p class="legend-desc">Human-authored</p>
        </div>
      </div>
    </div>

    <!-- Forensic Scoring Logic -->
    <div class="forensic-section" aria-label="Forensic scoring logic">
      <div class="forensic-header">
        <p class="forensic-eyebrow">Methodology</p>
        <h2 class="forensic-title">Forensic Scoring Logic</h2>
        <p class="forensic-desc">
          Our model combines structural code analysis, linguistic pattern recognition, and statistical entropy measurement to identify signals commonly associated with AI-generated or human-written content.<br><br>
          You're not detecting "AI". You're detecting <strong style="color:var(--accent2)">patterns that strongly correlate with AI-assisted generation</strong>. That distinction makes it credible and defensible.
        </p>
      </div>

      <div class="forensic-pillars">
        <div class="forensic-pillar">
          <p class="pillar-number">Pillar 01</p>
          <p class="pillar-title">Structure Analysis</p>
          <p class="pillar-desc">AI code tends to be overly structured and symmetric. We measure formatting consistency, over-modularization, template repetition, and boilerplate density.</p>
          <div class="pillar-signals">
            <span class="pillar-tag ai">Perfect indentation +8</span>
            <span class="pillar-tag ai">Over-modular +6</span>
            <span class="pillar-tag ai">Template repeat +7</span>
            <span class="pillar-tag human">Messy hacks −10</span>
            <span class="pillar-tag human">TODO/FIXME −8</span>
          </div>
        </div>
        <div class="forensic-pillar">
          <p class="pillar-number">Pillar 02</p>
          <p class="pillar-title">Linguistic Patterns</p>
          <p class="pillar-desc">AI writes comments and prose differently. We scan for textbook-style explanations, filler phrases, and the absence of personality, frustration, or humor.</p>
          <div class="pillar-signals">
            <span class="pillar-tag ai">Filler phrases +12</span>
            <span class="pillar-tag ai">Passive voice +9</span>
            <span class="pillar-tag ai">Hedge language +6</span>
            <span class="pillar-tag human">Slang/informal −12</span>
            <span class="pillar-tag human">Personal voice −10</span>
          </div>
        </div>
        <div class="forensic-pillar">
          <p class="pillar-number">Pillar 03</p>
          <p class="pillar-title">Engineering Behaviour</p>
          <p class="pillar-desc">Real development leaves fingerprints: incremental commits, weird dependency choices, hotfixes, renamed files. AI repos are too clean, too complete, too fast.</p>
          <div class="pillar-signals">
            <span class="pillar-tag ai">Generic var names +11</span>
            <span class="pillar-tag ai">Every fn docstrings +9</span>
            <span class="pillar-tag ai">No debug leftovers +8</span>
            <span class="pillar-tag human">Inconsistent naming −8</span>
          </div>
        </div>
        <div class="forensic-pillar">
          <p class="pillar-number">Pillar 04</p>
          <p class="pillar-title">Entropy &amp; Randomness</p>
          <p class="pillar-desc">Human code has chaos: naming entropy, line length variance, random spacing quirks, unusual comment structures. Statistically smooth output signals AI generation.</p>
          <div class="pillar-signals">
            <span class="pillar-tag ai">Uniform para lengths +10</span>
            <span class="pillar-tag ai">Consistent sentence len +7</span>
            <span class="pillar-tag ai">Low vocab variety +9</span>
            <span class="pillar-tag human">High entropy −10</span>
          </div>
        </div>
      </div>

      <div class="forensic-footer">
        <div>
          <p class="forensic-disclaimer">
            <strong>This tool does not determine authorship.</strong> It detects statistical patterns commonly found in AI-assisted or human-written code and text. All signals are aggregated into a normalized score, stabilized through a non-linear evaluation function to prevent extreme distortions. The result is a mathematically grounded <em>probability analysis</em> of typical AI versus human patterns.
          </p>
          <div class="forensic-privacy">
            <div class="forensic-privacy-item">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/></svg>
              No data stored
            </div>
            <div class="forensic-privacy-item">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/></svg>
              No external processing
            </div>
            <div class="forensic-privacy-item">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/></svg>
              All analysis runs in your browser
            </div>
          </div>
        </div>
        <div class="forensic-formula">
          <p class="forensic-formula-label">Mathematical Scoring Model</p>
          <p class="forensic-formula-eq">score = 30 + 45 × tanh(rawSignal / 30)</p>
        </div>
      </div>
    </div>

    <!-- Roast My Repo -->
    <div class="roast-section" id="roast-section" aria-label="Roast my repo">
      <div class="roast-icon">🔥</div>
      <div class="roast-content">
        <p class="roast-title">Roast My Repo</p>
        <p class="roast-desc">Run a scan above, then get a savage honest verdict about your code. Developers will share this instantly.</p>
        <span class="roast-example" id="roast-placeholder">"Your repo feels 82% vibe coded. Bro, did you even touch this code?"</span>
        <div id="roast-output"></div>
      </div>
      <button class="btn btn-primary" id="roast-btn" onclick="generateRoast()" style="display:none;flex-shrink:0">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" width="15" height="15"><path stroke-linecap="round" stroke-linejoin="round" d="M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"/><path stroke-linecap="round" stroke-linejoin="round" d="M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"/></svg>
        Roast It
      </button>
    </div>

  </main>

  <footer role="contentinfo">
    <div class="footer-inner">
      <p class="footer-logo">Ai<span>CHECKER</span></p>
      <nav class="footer-links">
        <a onclick="scrollToTop()">Back to top</a>
        <a href="https://github.com/shariquetelco/aichecker" target="_blank" rel="noopener">GitHub</a>
        <a href="https://vercel.com" target="_blank" rel="noopener">Hosted on Vercel</a>
      </nav>
      <p class="footer-note">No data transmitted. All analysis runs locally. &copy; 2025 AiCHECKER</p>
    </div>
  </footer>

  <div id="toast" role="alert" aria-live="assertive"></div>

  <script>
  // PDF.js
  if (typeof pdfjsLib !== 'undefined') {
    pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
  }

  // ── Tabs ───────────────────────────────────────────────
  function switchTab(name) {
    document.querySelectorAll('.tab-btn').forEach(b => { b.classList.remove('active'); b.setAttribute('aria-selected','false'); });
    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
    document.getElementById('btn-'+name).classList.add('active');
    document.getElementById('btn-'+name).setAttribute('aria-selected','true');
    document.getElementById('tab-'+name).classList.add('active');
  }
  function scrollToTop() { window.scrollTo({ top: 0, behavior: 'smooth' }); }
  function updateCharCount() {
    const v = document.getElementById('paste-input').value;
    document.getElementById('paste-char-count').textContent = v.length.toLocaleString() + ' chars';
  }
  function clearPaste() { document.getElementById('paste-input').value = ''; updateCharCount(); }

  // ── File upload ────────────────────────────────────────
  let selectedFile = null;
  function handleFileSelect(e) { const f = e.target.files[0]; if (f) setFile(f); }
  function handleDragOver(e) { e.preventDefault(); document.getElementById('upload-zone').classList.add('drag-over'); }
  function handleDragLeave() { document.getElementById('upload-zone').classList.remove('drag-over'); }
  function handleDrop(e) { e.preventDefault(); document.getElementById('upload-zone').classList.remove('drag-over'); const f = e.dataTransfer.files[0]; if (f) setFile(f); }
  function setFile(f) {
    selectedFile = f;
    const sz = f.size < 1024 ? f.size+' B' : f.size < 1048576 ? (f.size/1024).toFixed(1)+' KB' : (f.size/1048576).toFixed(1)+' MB';
    document.getElementById('file-info-name').textContent = f.name + '  ·  ' + sz;
    document.getElementById('file-info').classList.add('visible');
    document.getElementById('file-btn').disabled = false;
    document.getElementById('file-status').textContent = '';
  }

  // ── Helpers ────────────────────────────────────────────
  function delay(ms) { return new Promise(r => setTimeout(r, ms)); }
  function setStatus(id, msg, mode) {
    const el = document.getElementById(id);
    el.textContent = msg;
    el.className = 'status-msg' + (mode === 'error' ? ' error' : mode === 'ok' ? ' ok' : '');
  }
  function showLoader(barId, innerId) {
    document.getElementById(barId).classList.add('visible');
    let w = 0;
    const t = setInterval(() => {
      w = Math.min(w + Math.random()*10, 85);
      document.getElementById(innerId).style.width = w+'%';
    }, 300);
    document.getElementById(barId)._t = t;
  }
  function hideLoader(barId, innerId) {
    clearInterval(document.getElementById(barId)._t);
    document.getElementById(innerId).style.width = '100%';
    setTimeout(() => { document.getElementById(barId).classList.remove('visible'); document.getElementById(innerId).style.width='0%'; }, 500);
  }
  function showToast(msg) {
    const t = document.getElementById('toast');
    t.textContent = msg; t.classList.add('show');
    setTimeout(() => t.classList.remove('show'), 3000);
  }

  // ── Error banner ───────────────────────────────────────
  function showErrorBanner(title, body, tip) {
    document.getElementById('url-error-title').textContent = title;
    document.getElementById('url-error-body').textContent  = body;
    document.getElementById('url-error-tip').innerHTML = tip || '';
    document.getElementById('url-error-banner').classList.add('visible');
  }
  function hideErrorBanner() { document.getElementById('url-error-banner').classList.remove('visible'); }

  // ── Known hard-blocked domains ─────────────────────────
  const HARD_BLOCKED = [
    'google.com','google.co.','accounts.google',
    'facebook.com','fb.com','instagram.com',
    'twitter.com','x.com',
    'linkedin.com','tiktok.com','snapchat.com',
    'netflix.com','spotify.com','whatsapp.com',
    'discord.com','cloudflare.com'
  ];
  function isHardBlocked(hostname) { return HARD_BLOCKED.some(d => hostname.includes(d)); }

  // ── Smart URL fetcher — 4 strategies ──────────────────
  // Strategy 1: Wikipedia special API (best quality, no proxy)
  // Strategy 2: allorigins.win
  // Strategy 3: corsproxy.io
  // Strategy 4: htmlreader via api.codetabs.com
  async function smartFetch(href, statusId) {
    const url = new URL(href);

    // Strategy 1: Wikipedia API — no CORS, no proxy needed
    if (url.hostname.includes('wikipedia.org')) {
      setStatus(statusId, 'Using Wikipedia API…', '');
      const title = url.pathname.split('/').pop();
      const lang  = url.hostname.split('.')[0];
      const apiUrl = `https://${lang}.wikipedia.org/api/rest_v1/page/summary/${title}`;
      try {
        const res = await fetch(apiUrl, { signal: AbortSignal.timeout(8000) });
        if (res.ok) {
          const j = await res.json();
          const text = (j.extract || '') + ' ' + (j.description || '');
          if (text.length > 100) return text;
        }
      } catch(e) { /* fall through */ }
    }

    // Strategy 2: allorigins (JSON wrapper, more reliable than /raw)
    setStatus(statusId, 'Fetching via proxy 1/3…', '');
    try {
      const res = await fetch(
        'https://api.allorigins.win/get?url=' + encodeURIComponent(href),
        { signal: AbortSignal.timeout(12000) }
      );
      if (res.ok) {
        const j = await res.json();
        if (j.contents && j.contents.length > 200) return j.contents;
      }
    } catch(e) { /* fall through */ }

    // Strategy 3: corsproxy.io
    setStatus(statusId, 'Fetching via proxy 2/3…', '');
    try {
      const res = await fetch(
        'https://corsproxy.io/?' + encodeURIComponent(href),
        { signal: AbortSignal.timeout(12000) }
      );
      if (res.ok) {
        const txt = await res.text();
        if (txt && txt.length > 200) return txt;
      }
    } catch(e) { /* fall through */ }

    // Strategy 4: api.codetabs.com
    setStatus(statusId, 'Fetching via proxy 3/3…', '');
    try {
      const res = await fetch(
        'https://api.codetabs.com/v1/proxy?quest=' + encodeURIComponent(href),
        { signal: AbortSignal.timeout(12000) }
      );
      if (res.ok) {
        const txt = await res.text();
        if (txt && txt.length > 200) return txt;
      }
    } catch(e) { /* fall through */ }

    throw new Error('ALL_FAILED');
  }

  // ── fetchURL ───────────────────────────────────────────
  async function fetchURL() {
    let raw = document.getElementById('url-input').value.trim();
    if (!raw) { showToast('Please enter a URL first.'); return; }
    if (!/^https?:\/\//i.test(raw)) raw = 'https://' + raw;
    document.getElementById('url-input').value = raw;

    let url;
    try { url = new URL(raw); }
    catch { showToast('Invalid URL — please include https://'); return; }

    hideErrorBanner();
    setStatus('url-status', '', '');

    // Hard-blocked: tell user immediately
    if (isHardBlocked(url.hostname)) {
      showErrorBanner(
        url.hostname.toUpperCase() + ' CANNOT BE FETCHED',
        'This platform blocks all third-party fetch attempts at the server level. No proxy or workaround exists for browser-only tools.',
        '<strong>Easy fix:</strong> Open the page → select all text (Ctrl+A) → copy (Ctrl+C) → click the <strong>Paste Text</strong> tab → paste → Analyse.'
      );
      setStatus('url-status', 'Use Paste Text tab for this site.', 'error');
      return;
    }

    showLoader('url-loader', 'url-loader-inner');
    document.getElementById('fetch-btn').disabled = true;

    try {
      const raw_html = await smartFetch(url.href, 'url-status');
      setStatus('url-status', 'Extracting text…', '');

      // Determine if it's HTML or plain text
      const isHTML = /<html|<body|<div|<p\s|<!DOCTYPE/i.test(raw_html);
      const text = isHTML ? extractTextFromHTML(raw_html) : raw_html.replace(/\s+/g,' ').trim();

      if (text.length < 80) {
        showErrorBanner(
          'TOO LITTLE TEXT FOUND',
          'The page returned almost no readable text. It\'s likely a JavaScript-rendered app (React/Vue/Next.js SPA), a login wall, or a heavily protected site.',
          '<strong>Fix:</strong> Copy the visible text from your browser manually → use the <strong>Paste Text</strong> tab.'
        );
        setStatus('url-status', 'Not enough text extracted.', 'error');
        return;
      }

      setStatus('url-status', 'Analysing ' + text.length.toLocaleString() + ' chars…', '');
      await delay(200);
      runAnalysis(text);
      setStatus('url-status', '✓ ' + text.length.toLocaleString() + ' chars from ' + url.hostname, 'ok');

    } catch(err) {
      showErrorBanner(
        'ALL FETCH METHODS FAILED',
        'This site blocked all 4 fetch attempts (allorigins, corsproxy, codetabs, and direct). The site enforces strict anti-scraping rules.',
        '<strong>Fix:</strong> Open the page in your browser → select all text → copy → use the <strong>Paste Text</strong> tab to paste and analyse.'
      );
      setStatus('url-status', 'Could not fetch. Use Paste Text tab.', 'error');
    } finally {
      hideLoader('url-loader', 'url-loader-inner');
      document.getElementById('fetch-btn').disabled = false;
    }
  }

  // ════════════════════════════════════════════════════════
  //  GITHUB REPO SCANNER — uses public GitHub API
  // ════════════════════════════════════════════════════════

  // File extensions worth analysing
  const CODE_EXTS = ['js','ts','py','java','cpp','c','cs','go','rb','php','swift','kt','rs','jsx','tsx','vue','md','txt','html','css','sh','yml','yaml','json'];
  const MAX_FILES = 10;
  const MAX_FILE_BYTES = 60000; // 60KB per file

  function parseGitHubURL(raw) {
    try {
      const u = new URL(raw);
      if (!u.hostname.includes('github.com')) return null;
      const parts = u.pathname.replace(/^\//, '').replace(/\/$/, '').split('/');
      if (parts.length < 2) return null;
      return { owner: parts[0], repo: parts[1] };
    } catch { return null; }
  }

  async function ghGet(path) {
    const res = await fetch('https://api.github.com/' + path, {
      headers: { 'Accept': 'application/vnd.github.v3+json' },
      signal: AbortSignal.timeout(10000)
    });
    if (!res.ok) throw new Error('GitHub API: HTTP ' + res.status + ' — ' + (res.status === 403 ? 'Rate limited. Wait a minute and try again.' : res.status === 404 ? 'Repo not found or is private.' : ''));
    return res.json();
  }

  async function fetchGitHub() {
    let raw = document.getElementById('gh-input').value.trim();
    if (!raw) { showToast('Please enter a GitHub repo URL.'); return; }
    if (!/^https?:\/\//i.test(raw)) raw = 'https://github.com/' + raw;
    document.getElementById('gh-input').value = raw;

    const parsed = parseGitHubURL(raw);
    if (!parsed) {
      setStatus('gh-status', 'Enter a valid GitHub repo URL e.g. https://github.com/owner/repo', 'error');
      return;
    }

    // Reset UI
    document.getElementById('gh-repo-info').classList.remove('visible');
    document.getElementById('gh-files-list').style.display = 'none';
    document.getElementById('gh-files-items').innerHTML = '';
    setStatus('gh-status', '', '');
    showLoader('gh-loader', 'gh-loader-inner');
    document.getElementById('gh-btn').disabled = true;

    const { owner, repo } = parsed;

    try {
      // 1. Fetch repo metadata
      setStatus('gh-status', 'Fetching repo info…', '');
      const meta = await ghGet(`repos/${owner}/${repo}`);

      // Show repo card
      document.getElementById('gh-avatar').src = meta.owner?.avatar_url || '';
      document.getElementById('gh-repo-name').textContent = meta.full_name;
      document.getElementById('gh-repo-desc').textContent = meta.description || 'No description provided.';
      const tags = document.getElementById('gh-repo-tags');
      tags.innerHTML = '';
      if (meta.language) tags.innerHTML += `<span class="gh-tag">${meta.language}</span>`;
      if (meta.stargazers_count !== undefined) tags.innerHTML += `<span class="gh-tag">★ ${meta.stargazers_count.toLocaleString()}</span>`;
      if (meta.forks_count !== undefined) tags.innerHTML += `<span class="gh-tag">⑂ ${meta.forks_count.toLocaleString()}</span>`;
      if (meta.license?.spdx_id) tags.innerHTML += `<span class="gh-tag">${meta.license.spdx_id}</span>`;
      document.getElementById('gh-repo-info').classList.add('visible');

      // 2. Get file tree
      setStatus('gh-status', 'Reading file tree…', '');
      const branch = meta.default_branch || 'main';
      let treeData;
      try {
        treeData = await ghGet(`repos/${owner}/${repo}/git/trees/${branch}?recursive=1`);
      } catch {
        // Try master if main fails
        treeData = await ghGet(`repos/${owner}/${repo}/git/trees/master?recursive=1`);
      }

      // Filter to analysable files, prioritise code files, skip node_modules/vendor
      const allFiles = (treeData.tree || []).filter(f =>
        f.type === 'blob' &&
        !f.path.includes('node_modules/') &&
        !f.path.includes('vendor/') &&
        !f.path.includes('.min.') &&
        !f.path.includes('package-lock') &&
        !f.path.includes('yarn.lock') &&
        CODE_EXTS.some(ext => f.path.toLowerCase().endsWith('.' + ext))
      );

      // Sort: README first, then shortest paths (top-level first), then limit
      allFiles.sort((a, b) => {
        const aIsReadme = /readme/i.test(a.path) ? -1 : 0;
        const bIsReadme = /readme/i.test(b.path) ? -1 : 0;
        return aIsReadme - bIsReadme || a.path.split('/').length - b.path.split('/').length;
      });

      const filesToScan = allFiles.slice(0, MAX_FILES);

      if (!filesToScan.length) {
        setStatus('gh-status', 'No analysable files found in this repo.', 'error');
        return;
      }

      // 3. Fetch file contents
      setStatus('gh-status', `Fetching ${filesToScan.length} files…`, '');
      document.getElementById('gh-files-list').style.display = 'block';
      document.getElementById('gh-files-count').textContent = filesToScan.length + ' files';

      let combinedText = '';
      const itemsEl = document.getElementById('gh-files-items');

      for (let i = 0; i < filesToScan.length; i++) {
        const f = filesToScan[i];
        setStatus('gh-status', `Reading file ${i+1}/${filesToScan.length}: ${f.path}`, '');
        try {
          const fileData = await ghGet(`repos/${owner}/${repo}/contents/${f.path}`);
          let content = '';
          if (fileData.encoding === 'base64' && fileData.content) {
            content = atob(fileData.content.replace(/\n/g, '')).slice(0, MAX_FILE_BYTES);
          } else if (typeof fileData.content === 'string') {
            content = fileData.content.slice(0, MAX_FILE_BYTES);
          }
          combinedText += '\n\n// FILE: ' + f.path + '\n' + content;

          // Add file to list UI
          const sizeKB = ((fileData.size || 0) / 1024).toFixed(1);
          const ext = f.path.split('.').pop().toLowerCase();
          const div = document.createElement('div');
          div.className = 'gh-file-item';
          div.innerHTML = `
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.8" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"/></svg>
            <span class="gh-file-name">${f.path}</span>
            <span class="gh-file-size">${sizeKB} KB</span>
          `;
          itemsEl.appendChild(div);
        } catch(e) {
          // Skip unreadable files silently
        }
        await delay(120); // be polite to GitHub API rate limits
      }

      if (combinedText.trim().length < 80) {
        setStatus('gh-status', 'Could not read enough file content. Repo may be empty or all files are binary.', 'error');
        return;
      }

      setStatus('gh-status', 'Analysing ' + combinedText.length.toLocaleString() + ' chars across ' + filesToScan.length + ' files…', '');
      await delay(200);
      runAnalysis(combinedText);
      setStatus('gh-status', '✓ ' + owner + '/' + repo + ' scanned — ' + filesToScan.length + ' files, ' + combinedText.length.toLocaleString() + ' chars', 'ok');

    } catch(err) {
      setStatus('gh-status', err.message || 'Failed to scan repo.', 'error');
    } finally {
      hideLoader('gh-loader', 'gh-loader-inner');
      document.getElementById('gh-btn').disabled = false;
    }
  }

  function extractTextFromHTML(html) {
    const doc = new DOMParser().parseFromString(html, 'text/html');
    ['script','style','nav','header','footer','aside','noscript','iframe','svg'].forEach(t => doc.querySelectorAll(t).forEach(el => el.remove()));
    return (doc.body?.innerText || doc.body?.textContent || '').replace(/\s+/g,' ').trim();
  }

  // ── Paste ──────────────────────────────────────────────
  function analysePaste() {
    const text = document.getElementById('paste-input').value.trim();
    if (text.length < 80) { setStatus('paste-status','Need at least 80 characters for reliable analysis.','error'); return; }
    setStatus('paste-status','Analysing…','');
    runAnalysis(text);
    setStatus('paste-status','Done.','ok');
  }

  // ── File ───────────────────────────────────────────────
  async function analyseFile() {
    if (!selectedFile) return;
    const ext = selectedFile.name.split('.').pop().toLowerCase();
    showLoader('file-loader','file-loader-inner');
    setStatus('file-status','Reading file…','');
    document.getElementById('file-btn').disabled = true;
    try {
      let text = '';
      if (ext === 'pdf') text = await extractPDF(selectedFile);
      else {
        text = await readFileAsText(selectedFile);
        if (ext === 'html' || ext === 'htm') text = extractTextFromHTML(text);
      }
      if (text.length < 80) throw new Error('Not enough readable text in this file.');
      setStatus('file-status','Analysing ' + text.length.toLocaleString() + ' chars…','');
      await delay(250);
      runAnalysis(text);
      setStatus('file-status','✓ Done.','ok');
    } catch(err) {
      setStatus('file-status', err.message || 'Could not read file.', 'error');
    } finally {
      hideLoader('file-loader','file-loader-inner');
      document.getElementById('file-btn').disabled = false;
    }
  }
  function readFileAsText(file) {
    return new Promise((res,rej) => { const r = new FileReader(); r.onload = e => res(e.target.result); r.onerror = () => rej(new Error('Failed to read file.')); r.readAsText(file,'UTF-8'); });
  }
  async function extractPDF(file) {
    if (typeof pdfjsLib === 'undefined') throw new Error('PDF.js not loaded. Try a .txt file.');
    const buf = await file.arrayBuffer();
    const pdf = await pdfjsLib.getDocument({ data: buf }).promise;
    let out = '';
    for (let i = 1; i <= Math.min(pdf.numPages, 30); i++) {
      const page = await pdf.getPage(i);
      const tc   = await page.getTextContent();
      out += tc.items.map(s => s.str).join(' ') + '\n';
    }
    return out.replace(/\s+/g,' ').trim();
  }

  // ════════════════════════════════════════════════════════
  //  ANALYSIS ENGINE — 18 signals
  // ════════════════════════════════════════════════════════
  const SIGNALS = [
    { id:'filler', label:'AI filler phrases detected', weight:12,
      check(t) {
        const p = ['in today\'s world','it is important to note','it is worth noting','leveraging','furthermore','seamless','robust','cutting-edge','delve into','dive into','in conclusion','in summary','as a result','it goes without saying','needless to say','at the end of the day','first and foremost','last but not least','comprehensive','utilize','facilitate','paradigm','synergy','holistic','streamline','unlock the potential','game-changer','innovative','groundbreaking','state-of-the-art','best practices'];
        const low = t.toLowerCase();
        const hits = p.filter(x => low.includes(x)).length;
        return hits >= 3 ? hits / p.length : 0;
      }
    },
    { id:'passive', label:'High passive voice usage', weight:9,
      check(t) {
        const re = /\b(is|are|was|were|be|been|being)\s+([\w]+ed|[\w]+en)\b/gi;
        const s = t.split(/[.!?]+/).filter(x => x.trim().length > 10);
        if (!s.length) return 0;
        let n = 0; s.forEach(x => { if (re.test(x)) n++; });
        const r = n / s.length;
        return r > 0.35 ? Math.min((r-0.35)/0.3, 1) : 0;
      }
    },
    { id:'uniform_para', label:'Suspiciously uniform paragraph lengths', weight:10,
      check(t) {
        const p = t.split(/\n\n+/).map(x => x.trim()).filter(x => x.length > 40);
        if (p.length < 3) return 0;
        const lens = p.map(x => x.length);
        const mean = lens.reduce((a,b)=>a+b,0)/lens.length;
        const sd = Math.sqrt(lens.map(l=>(l-mean)**2).reduce((a,b)=>a+b,0)/lens.length);
        const cv = sd/mean;
        return cv < 0.2 ? (0.2-cv)/0.2 : 0;
      }
    },
    { id:'no_contractions', label:'No contractions or informal language', weight:8,
      check(t) {
        const re = /\b(i'm|i've|i'd|you're|you've|he's|she's|it's|we're|they're|isn't|aren't|wasn't|don't|doesn't|didn't|can't|won't|wouldn't|haven't|that's|there's|let's|who's|what's)\b/gi;
        const w = t.split(/\s+/).length;
        if (w < 80) return 0;
        const hits = (t.match(re)||[]).length;
        return hits === 0 && w > 150 ? 0.75 : 0;
      }
    },
    { id:'transitions', label:'Excessive transition word density', weight:8,
      check(t) {
        const tr = ['additionally','moreover','however','nevertheless','therefore','consequently','subsequently','accordingly','meanwhile','nonetheless','in addition','on the other hand','in contrast','as a result','for instance','for example','in particular','specifically','notably'];
        const w = t.split(/\s+/).length;
        const hits = tr.filter(x => t.toLowerCase().includes(x)).length;
        const density = hits/(w/100);
        return density > 1.5 ? Math.min((density-1.5)/2,1) : 0;
      }
    },
    { id:'rep_structure', label:'Repetitive sentence opening structure', weight:10,
      check(t) {
        const s = t.match(/[A-Z][^.!?]*[.!?]/g)||[];
        if (s.length < 5) return 0;
        const st = s.map(x => x.trim().split(/\s+/).slice(0,2).join(' ').toLowerCase());
        const freq = {}; st.forEach(x => { freq[x]=(freq[x]||0)+1; });
        const rep = Object.values(freq).filter(c=>c>1).reduce((a,b)=>a+b,0);
        const r = rep/s.length;
        return r > 0.3 ? Math.min((r-0.3)/0.4,1) : 0;
      }
    },
    { id:'no_informal', label:'Zero informal markers or slang', weight:7,
      check(t) {
        const re = /\b(gonna|wanna|gotta|kinda|sorta|lol|lmao|omg|tbh|imo|btw|ngl|idk|smh|rn|tbf|fyi|ya|yep|nope|cool|stuff|thing|ok|okay)\b/gi;
        const w = t.split(/\s+/).length;
        if (w < 60) return 0;
        return (t.match(re)||[]).length === 0 && w > 150 ? 0.75 : 0;
      }
    },
    { id:'bullet_pattern', label:'Intro → bullets → conclusion pattern', weight:9,
      check(t) {
        const hasBullets = /^[\s]*[-•*]\s+.{10,}/m.test(t);
        if (!hasBullets) return 0;
        const hasIntro = /^.{40,200}[.:][\s\n]/m.test(t);
        const hasConcl = /\b(in conclusion|in summary|to summarize|overall|ultimately|in closing)\b/i.test(t);
        return (hasBullets?0.4:0)+(hasIntro?0.3:0)+(hasConcl?0.3:0);
      }
    },
    { id:'generic_vars', label:'Generic variable names (data, result, response)', weight:11,
      check(t) {
        if (!/\b(function|def |class |const |let |var |import |=>|async )\b/.test(t)) return 0;
        const re = /\b(data|result|response|item|items|temp|tmp|value|values|obj|arr|list|output|input|payload|config|options|params|args)\b/g;
        const w = t.split(/\s+/).length;
        const hits = (t.match(re)||[]).length;
        const d = hits/(w/100);
        return d > 2 ? Math.min((d-2)/4,1) : 0;
      }
    },
    { id:'uniform_indent', label:'Perfectly uniform indentation (no irregularities)', weight:10,
      check(t) {
        if (!/\b(function|def |class |const |let |var )\b/.test(t)) return 0;
        const lines = t.split('\n').filter(l => /^\s+\S/.test(l));
        if (lines.length < 6) return 0;
        const inds = lines.map(l => (l.match(/^(\s+)/)||['',''])[1].length);
        const pos = inds.filter(i=>i>0);
        if (!pos.length) return 0;
        const gcd = (a,b) => b===0?a:gcd(b,a%b);
        const g = pos.reduce(gcd);
        return pos.every(i=>i%g===0) ? 0.8 : 0;
      }
    },
    { id:'no_debug', label:'No TODO, FIXME, or debug leftovers', weight:8,
      check(t) {
        if (!/\b(function|def |class |const |let |var |=>)\b/.test(t)) return 0;
        const re = /\/\/\s*(TODO|FIXME|HACK|XXX|console\.log|debug|test|temp|old|remove)/i;
        const lines = t.split('\n').length;
        return lines > 15 && !re.test(t) ? 0.65 : 0;
      }
    },
    { id:'docstrings', label:'Every function has a docstring / JSDoc', weight:9,
      check(t) {
        const funcs = (t.match(/\b(function|def |class )\b/g)||[]).length;
        if (funcs < 2) return 0;
        const docs  = (t.match(/(\/\*\*[\s\S]*?\*\/|"""[\s\S]*?"""|'''[\s\S]*?''')/g)||[]).length;
        const r = docs/funcs;
        return r > 0.7 ? Math.min(r,1) : 0;
      }
    },
    { id:'header_comments', label:'File-level header comment block present', weight:6,
      check(t) {
        return /^[\s]*(\/\*[\s\S]{10,200}\*\/|<!--[\s\S]{5,200}-->)/.test(t.slice(0,500)) ? 0.7 : 0;
      }
    },
    { id:'vocab', label:'Low vocabulary variety (repetitive word choice)', weight:9,
      check(t) {
        const words = t.toLowerCase().match(/\b[a-z]{4,}\b/g)||[];
        if (words.length < 50) return 0;
        const r = new Set(words).size/words.length;
        return r < 0.45 ? (0.45-r)/0.3 : 0;
      }
    },
    { id:'sent_length', label:'Overly consistent sentence lengths', weight:7,
      check(t) {
        const s = t.split(/[.!?]+/).map(x=>x.trim()).filter(x=>x.length>20);
        if (s.length < 6) return 0;
        const lens = s.map(x=>x.split(/\s+/).length);
        const mean = lens.reduce((a,b)=>a+b,0)/lens.length;
        const sd = Math.sqrt(lens.map(l=>(l-mean)**2).reduce((a,b)=>a+b,0)/lens.length);
        const cv = sd/mean;
        return cv < 0.28 ? (0.28-cv)/0.28 : 0;
      }
    },
    { id:'hedge', label:'Excessive hedging language', weight:6,
      check(t) {
        const re = /\b(arguably|it can be said|one might|some may|it could be|there are those who|many would|it is widely|studies suggest|research shows|experts believe|it is generally)\b/gi;
        const w = t.split(/\s+/).length;
        const d = ((t.match(re)||[]).length)/(w/100);
        return d > 0.8 ? Math.min((d-0.8)/1.5,1) : 0;
      }
    },
    { id:'numbered', label:'Structured numbered list overuse', weight:6,
      check(t) {
        const hits = (t.match(/^\s*\d+[.)]\s+.{10,}/mg)||[]).length;
        const w = t.split(/\s+/).length;
        return hits >= 3 && hits/(w/100) > 1 ? Math.min(hits/12,1) : 0;
      }
    },
    { id:'every_section', label:'Every section: intro + 3 bullets + summary', weight:8,
      check(t) {
        const sections = t.split(/\n#{1,3}\s+/);
        if (sections.length < 3) return 0;
        let matched = 0;
        sections.forEach(sec => {
          const bullets = (sec.match(/^[\s]*[-•*]\s+/mg)||[]).length;
          const hasConcl = /\b(in summary|overall|in conclusion|to summarize)\b/i.test(sec);
          if (bullets >= 2 && hasConcl) matched++;
        });
        return matched >= 2 ? Math.min(matched/sections.length + 0.3, 1) : 0;
      }
    }
  ];

  function computeScore(text) {
    const results = SIGNALS.map(sig => {
      const raw = Math.max(0, Math.min(1, sig.check(text)));
      return { ...sig, triggered: raw > 0.15, raw, contribution: raw * sig.weight };
    });
    const maxRaw = SIGNALS.reduce((s,sig)=>s+sig.weight,0);
    const rawSum = results.reduce((s,r)=>s+r.contribution,0);
    const rawScore = (rawSum/maxRaw)*100;
    const finalScore = 30 + 45*Math.tanh(rawScore/30);
    return { score: Math.round(finalScore*10)/10, signals: results };
  }

  function getCategory(score) {
    if (score > 72) return { key:'vibe',  label:'VIBE CODED',      color:'#ff2d55', desc:'Strong AI-generation patterns detected across multiple signal categories. Pattern analysis suggests high AI-assisted generation likelihood.' };
    if (score > 50) return { key:'sus',   label:'SUSPICIOUS',      color:'#ffdd00', desc:'Multiple AI signals found. Likely AI-assisted or lightly edited LLM output. Human involvement possible but limited.' };
    if (score > 35) return { key:'mixed', label:'MIXED SIGNALS',   color:'#ff7b00', desc:'Inconclusive result. Blend of AI and human writing characteristics detected. Could be AI-assisted with significant human editing.' };
    return              { key:'human', label:'CERTIFIED HUMAN',  color:'#00ff88', desc:'Low AI signal density. Natural variation, informal language, and human writing patterns detected. Likely human-authored content.' };
  }

  // ── Roast generator ────────────────────────────────────
  let lastScore = null;
  let lastCategory = null;

  const ROASTS = {
    vibe: [
      "score% AI likelihood. Bro didn't write a single line — ChatGPT did the whole sprint.",
      "score% vibe coded. Your commit history is one line: 'initial commit'. Classic AI slop.",
      "score% AI patterns detected. Even the variable names are soulless. `data`, `result`, `response`? Really?",
      "score% likelihood. This codebase has the personality of a terms-of-service document.",
      "score% AI signals. Every function has a docstring. Every file has a header. No human writes this clean — or this boring.",
      "score% match. This README was definitely generated before a single line of code was written.",
    ],
    sus: [
      "score% AI signals. Started human, lost interest, let GPT finish the job. We see you.",
      "score% suspicious. Some genuine thought went in here, then AI took over for the boring parts. Fair enough.",
      "score% likelihood. Half developer, half prompt engineer. The seams are showing.",
      "score% flagged. There are human fingerprints — but also suspiciously perfect formatting. Hybrid situation.",
    ],
    mixed: [
      "score% mixed signals. Actually unclear. Could be a very organized human or a very lazy AI. Coin flip.",
      "score% inconclusive. You write like you had one coffee and asked AI to clean it up. Respectable.",
      "score% hybrid patterns. Some chaos, some structure. The entropy is real but so are some of those weird hacks.",
    ],
    human: [
      "score% human. That commented-out code from 2019 is deeply authentic. Never delete it.",
      "score% certified human. Only a real developer leaves a TODO that says 'fix later' for 3 years.",
      "score% organic. The inconsistent naming, the one-letter variables, the zero docstrings — art.",
      "score% human patterns. This code has suffered. That's the most human thing I've ever seen.",
      "score% certified. This looks like it was written at 2am under deadline pressure. Respect.",
    ]
  };

  function generateRoast() {
    if (lastScore === null) { showToast('Run an analysis first.'); return; }
    const lines = ROASTS[lastCategory.key] || ROASTS.mixed;
    const picked = lines[Math.floor(Math.random() * lines.length)].replace('score', lastScore.toFixed(1));
    const out = document.getElementById('roast-output');
    const placeholder = document.getElementById('roast-placeholder');
    out.textContent = '// VERDICT: ' + picked;
    out.classList.add('visible');
    if (placeholder) placeholder.style.display = 'none';
    showToast('Roasted. 🔥');
  }

  function buildSummary(score, signals, cat) {
    const triggered = signals.filter(s=>s.triggered);
    const top = triggered.sort((a,b)=>b.contribution-a.contribution).slice(0,3).map(s=>s.label.toLowerCase()).join('; ');
    if (!triggered.length) return `Score of ${score} — "${cat.label}". No strong AI signals across ${signals.length} checks. Natural variation and informal language patterns consistent with human authorship.`;
    return `Score of ${score} — "${cat.label}". ${triggered.length}/${signals.length} signals triggered. Top contributors: ${top}. ${cat.desc}`;
  }

  function runAnalysis(text) {
    const { score, signals } = computeScore(text);
    const cat = getCategory(score);
    const triggered = signals.filter(s=>s.triggered);

    document.documentElement.style.setProperty('--score-color', cat.color);

    // Ring
    const circ = 2*Math.PI*90;
    const offset = circ - (score/100)*circ;
    const fill = document.getElementById('ring-fill');
    fill.style.stroke = cat.color;
    fill.style.filter = `drop-shadow(0 0 12px ${cat.color})`;
    requestAnimationFrame(() => { fill.style.strokeDashoffset = offset; });

    document.getElementById('ring-score-num').textContent = score.toFixed(1);
    document.getElementById('category-label').textContent = cat.label;
    document.getElementById('category-desc').textContent  = cat.desc;

    // Spectrum thumb
    document.getElementById('spectrum-thumb').style.left = score + '%';
    document.getElementById('spectrum-thumb').style.borderColor = cat.color;
    document.getElementById('spectrum-thumb').style.boxShadow = `0 0 8px ${cat.color}`;

    // Confidence label
    const conf = score > 72 || score < 35 ? 'HIGH' : score > 60 || score < 42 ? 'MEDIUM' : 'LOW';
    document.getElementById('confidence-label').textContent = conf + ' CONFIDENCE  ·  ' + triggered.length + '/' + signals.length + ' SIGNALS HIT';

    // Signals list
    const list = document.getElementById('signals-list');
    list.innerHTML = '';
    signals.sort((a,b)=>b.triggered-a.triggered||b.contribution-a.contribution).forEach(sig => {
      const div = document.createElement('div');
      div.className = 'signal-item ' + (sig.triggered ? 'triggered' : 'not-triggered');
      div.setAttribute('role','listitem');
      div.innerHTML = `<div class="signal-dot"></div><span class="signal-text">${sig.label}</span><span class="signal-weight">${sig.triggered?'+':''}${sig.weight}</span>`;
      list.appendChild(div);
    });

    // Badge
    const badge = document.getElementById('triggered-badge');
    badge.textContent = triggered.length + ' TRIGGERED';
    badge.style.background = cat.color;
    badge.style.display = 'inline-block';

    // Summary
    document.getElementById('summary-text').textContent = buildSummary(score, signals, cat);

    // Store for roast
    lastScore = score;
    lastCategory = cat;
    const roastBtn = document.getElementById('roast-btn');
    if (roastBtn) roastBtn.style.display = 'flex';

    // Show results
    const res = document.getElementById('results');
    res.classList.add('visible');
    res.scrollIntoView({ behavior: 'smooth', block: 'start' });
    showToast('Analysis complete — ' + cat.label);
  }

  // Enter key on URL input
  document.getElementById('url-input').addEventListener('keydown', e => { if (e.key==='Enter') fetchURL(); });
  // Enter key on GitHub input
  document.getElementById('gh-input').addEventListener('keydown', e => { if (e.key==='Enter') fetchGitHub(); });
  updateCharCount();
  </script>
</body>
</html>
